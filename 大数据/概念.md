# 概念

## 范式理论（关系型数据库使用）

### 第一范式

    属性不可分割（为了可以计算）

### 第二范式

    不能存在部分函数依赖（减少数据冗余）：（AB）-> C 改成 A -> C & B -> C

### 第三范式

    不能存在传递函数依赖（减少数据冗余、增加数据一致性）：A -> B -> C  C-\-> A 例： 学生 -> 系 -> 系主任 ： 不能产生依赖，单独增删改查不影响其他

## 数据分层

### 维度建模

    事实表 & 维度表

* 星形模型

* 雪花模型

* 星座模型

#### 事实表（业务过程）

    * 事务事实表
        一条数据表示一个业务过程；数据只增不改，且没有最终状态。（如：余额变更过程）
    * 周期快照事实表
        最终状态（如：余额、购物车）
    * 累计快照事实表
        一条数据表示一个业务过程；但业务不完整。数据可变更，但最终会停止。（如：订单多个状态变更存储为多条数据；）

### 维度表（度量角度）

    如：部门、商品、地区、支付方式、时间、退单原因；

### 指标

#### 原子指标

    不可拆分的指标
    业务过程 + 度量值 + 聚合方式（聚合逻辑）
    例子： 下单；金额；sum = sum(order_amount)

#### 派生指标

    在原子指标的基础上加粒度、维度（统计周期）和业务限定
    例子： 最近一周各省份（手机品类）订单的总额
    原子指标：订单；金额；sum
    粒度：各省份（相当于sql中的group by）
    维度：最近一周
    业务：手机品类（相当于sql中的where)

#### 衍生指标

    由已经求得的原子指标或派生指标加工算出的比值/比例